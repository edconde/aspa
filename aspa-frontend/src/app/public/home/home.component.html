<form [formGroup]="loginForm" autocomplete="off" (ngSubmit)="onSubmit()">
  <div class="container">
    <aspa-spinner [message]="'Iniciando sesión'" style="margin: auto;" *ngIf="loggingIn"></aspa-spinner>
    <mat-card class="form-container mat-elevation-z6" *ngIf="!loggingIn">
      <div class="mat-card-header-icon-container">
        <mat-icon class="mat-card-header-icon mat-elevation-z6">lock</mat-icon>
      </div>
      <mat-card-header>
        <mat-card-title><img src="assets/img/favicon_io/favicon-32x32.png" /></mat-card-title>
        <mat-card-subtitle>App para el Seguimiento de Pruebas de Atletismo</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="field-wrapper">
          <mat-form-field class="field" appearance="outline">
            <mat-label>Usuario</mat-label>
            <input matInput type="text" formControlName="email" autocomplete="off" #username autofocus />
            <mat-error *ngIf="
                loginForm.get('email').hasError('email') &&
                !loginForm.get('email').hasError('required')
              ">Formato de email incorrecto</mat-error>
            <mat-error *ngIf="loginForm.get('email').hasError('required')">Rellena este campo</mat-error>
            <mat-icon color="primary" matPrefix>person</mat-icon>
          </mat-form-field>
        </div>

        <div class="field-wrapper">
          <mat-form-field class="field" appearance="outline">
            <mat-label>Contraseña</mat-label>
            <input matInput type="password" formControlName="password" />
            <mat-error *ngIf="loginForm.get('password').hasError('required')">Rellena este campo</mat-error>
            <mat-icon color="primary" matPrefix>vpn_key</mat-icon>
          </mat-form-field>
        </div>
        <!-- <span class="forgot-password"
          >¿Has olvidado tu contraseña?
          <a (click)="openModal(loginForm.get('email').value)"
            >Te enviamos otra</a
          ></span
        > -->
      </mat-card-content>
      <mat-card-actions>
        <button [disabled]="false && !loginForm.valid" mat-raised-button color="primary" type="submit"
          class="login-button">
          Entrar
        </button>
      </mat-card-actions>
      <mat-card-footer><span>ASPA - Aplicación para el seguimiento de pruebas de atletismo por
          Edgar Conde</span></mat-card-footer>
    </mat-card>
  </div>
</form>